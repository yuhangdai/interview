### mysql索引类型
在设计表的时候，不建议使用过长的字段作为主键，也不建议使用非单调的字段作为主键，这样会造成主索引频繁分裂

- 普通索引
- 唯一索引
- 主键索引
- 多列索引(组合索引)
- 全文索引

### mysql索引数据结构

索引使用B树原因:
- B树(Balance-Tree)（B-树）
    查找不稳定。 可能在根节点找到，也可能在叶子节点找到。
    遍历数据需要对树进行中序遍历。
    
- B+树(innodb)
    查找稳定。 只有叶子节点保存数据，其它节点只保存索引。所以相对B树同等数据高度会少点。
    每个叶子结点也通过指针指向构成了一种链表结构，所以遍历数据也会简单很多。

- 簇族索引与非簇族索引区别

    聚簇索引的叶子节点就是数据节点，而非聚簇索引的叶子节点仍然是索引节点，只不过有指向对应数据块的指针
        
    MYISAM引擎的索引文件（.MYI）和数据文件(.MYD)是相互独立的
    InnoDB按聚簇索引的形式存储数据

    Innodb主键索引叶子节点除了保存主键值外，还保存了主键记录对应的其他column值    
    Innodb二级索引保存索引值和主键值， 通过主键值查找到对应的记录；

    Myisam引擎数据和索引分开存放，索引树的叶子节点只保存索引值和数据引用物理地址，
    通过数据引用物理地址查找数据，Myisam二级索引和主键索引类似  

    

    聚簇索引
        聚簇索引中的每个叶子节点包含主键值、事务ID、回滚指针(rollback pointer用于事务和MVCC）和余下的列(如col2)

    ​	 如果没有主键，并且也没有一个趋势递增的唯一键，那么所有这些表都会依赖一个全局序列计数器
    生成的ROW_ID来构造一个隐式聚簇索引，这就会导致竞争从而引起性能问题
    如果随机主键，那么所有页都会被频繁写入，从而导致无法高效的缓存页。
    并且频繁的裂变还会导致页填充率不理想，从而额外占用很多的磁盘空间

- hash
- 红黑树
    特性： 1.节点只能为红色或者黑色；
          2.根节点为黑色；
          3.叶子节点也为黑色；
          4.红色节点两个子节点都为黑色；
          5.从任一节点到每个叶子节点的所有路径都包含相同数量的黑色节点

    红黑树从根到叶子的最长路径不会超过最短路径的2倍。
    性质4 确定了不会出现连续两个红色父子节点，所以最长路径一定是红黑相间的
        由于根节点和叶子节点都是黑色的，最短路径可能都是黑色节点，并且最长路径中一定是黑色节点多于红色节点
    性质5 决定所有路径上都有相同数量的黑色节点。
          即最长路径 = 红色(<黑色) + 黑色节点数量
          最短路径 = 黑色节点数量
          最长路径 < 2*最短路径
- AVL树
    任意左右子树差不能超过1

[参考资料](https://blog.csdn.net/wanderlustLee/article/details/81297253)
[红黑树](https://www.cnblogs.com/AhuntSun-blog/p/12458115.html)


[mysql聚簇索引](https://www.javazhiyin.com/29434.html)

### mysql索引使用注意事项
- null值问题
- 索引列计算值索引
- %aa问题
- 最前匹配问题
- <> !=
- not in,not exists效率和索引问题(https://blog.csdn.net/baidu_37107022/article/details/77278381)

### mysql引擎及其各自特性
- MyISAM
- innodb