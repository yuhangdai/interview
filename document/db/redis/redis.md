## redis
### redis设置过期时间

### redis 5中数据结构

#### string
Redis 为了对内存做极致的优化，不同长度的字符串使用不同的结构体来表示.
#### list
Redis 的列表相当于 Java 语言中的 LinkedList，注意它是链表而不是数组
#### hash
Redis 中的字典相当于 Java 中的 HashMap，内部实现也差不多类似，都是通过 "数组 + 链表" 的链地址法来解决部分 哈希冲突，
同时这样的结构也吸收了两种不同数据结构的优点
#### set
Redis 的集合相当于 Java 语言中的 HashSet，它内部的键值对是无序、唯一的。
它的内部实现相当于一个特殊的字典，字典中所有的 value 都是一个值 NULL
#### sortedSet(zset)
Redis 最具特色的一个数据结构了，它类似于 Java 中 SortedSet 和 HashMap 的结合体，
一方面它是一个 set，保证了内部 value 的唯一性，另一方面它可以为每个 value 赋予一个 score 值，用来代表排序的权重.
内部实现由「跳跃表」 数据结构实现

#### HyperLog Log
#### Bloom Filter
#### Geo Hash

### redis使用场景以及存在问题

### 持久化原理以及各自优缺点
RDB做镜像全量持久化，AOF做增量持久化。
因为RDB会耗费较长时间，不够实时，在停机的时候会导致大量丢失数据，所以需要AOF来配合使用。
在redis实例重启时，会使用RDB持久化文件重新构建内存，再使用AOF重放近期的操作指令来实现完整恢复重启之前的状态
- RDB
原理：fork和cow
fork是指redis通过创建子进程来进行RDB操作，cow指的是copy on write，子进程创建后，父子进程共享数据段，
父进程继续提供读写服务，写脏的页面数据会逐渐和子进程分离开来

- AOF
AOF append of file，追加操作日志

### Redis的同步机制了解么
主从同步和从从同步。
同步流程：
1. 第一次时主节点进行bgsave生成rdb文件，同时将此时间段操作记录
2. 将rdb文件同步给从节点，从节点加载rdb文件到内存
3. 将此期间操作同步给从节点

### redis集群
1. 主从模式
    - 读写分离
    - 数据容灾
2. 哨兵模式
    - 主从模式优势都有
    - 主从可以自动切换，系统更健壮，可用性更高
3. 集群模式


